<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Project Details | Ashwanth R Kumar</title>
  <link rel="shortcut icon" type="image/png" href="../assets/images/logos/ViCrW.png" />
  <link rel="stylesheet" href="../assets/libs/owl.carousel/dist/assets/owl.carousel.min.css">
  <link rel="stylesheet" href="../assets/libs/aos-master/dist/aos.css">
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <style>
    .object-fit-cover {
      object-fit: cover;
    }

    .badge-tag {
      margin-right: .25rem;
    }

    .d-none {
      display: none !important;
    }

    /* in case bootstrap isn't loaded globally here */
  </style>
</head>

<body>

  <!-- Header (unchanged) -->
  <header class="header border-4 border-primary border-top position-fixed start-0 top-0 w-100">
    <div class="container">
      <div class="header-wrapper d-flex align-items-center justify-content-between">
        <div class="logo">
          <a href="index.html" class="logo-white">
            <img src="../assets/images/logos/ViCrW.png" alt="logo" class="img-fluid">
          </a>
          <a href="index.html" class="logo-dark">
            <img src="../assets/images/logos/ViCrB.png" alt="logo" class="img-fluid">
          </a>
        </div>
        <div class="d-flex align-items-center gap-4">
          <div class="btn-group">
            <button
              class="btn btn-secondary toggle-menu round-45 p-2 d-flex align-items-center justify-content-center bg-white rounded-circle"
              type="button" data-bs-toggle="dropdown" data-bs-auto-close="true" aria-expanded="false">
              <iconify-icon icon="solar:hamburger-menu-line-duotone" class="menu-icon fs-8 text-dark"></iconify-icon>
            </button>
            <ul class="dropdown-menu dropdown-menu-end p-4">
              <div class="d-flex flex-column gap-6">
                <div class="hstack justify-content-between border-bottom pb-6">
                  <p class="mb-0 fs-5 text-dark">Menu</p>
                  <button type="button" class="btn-close opacity-75" aria-label="Close"></button>
                </div>
                <div class="d-flex flex-column gap-3">
                  <ul class="header-menu list-unstyled mb-0 d-flex flex-column gap-2">
                    <li class="header-item"><a href="index.html"
                        class="header-link active hstack gap-2 fs-7 fw-bold text-dark">Home</a></li>
                    <li class="header-item"><a href="about-us.html"
                        class="header-link hstack gap-2 fs-7 fw-bold text-dark">About</a></li>
                    <li class="header-item"><a href="projects.html"
                        class="header-link hstack gap-2 fs-7 fw-bold text-dark">Projects</a></li>
                    <li class="header-item"><a href="blog.html"
                        class="header-link hstack gap-2 fs-7 fw-bold text-dark">Blog</a></li>
                    <li class="header-item"><a href="index.html"
                        class="header-link hstack gap-2 fs-7 fw-bold text-dark">Services</a></li>
                    <li class="header-item"><a href="contact.html"
                        class="header-link hstack gap-2 fs-7 fw-bold text-dark">Contact</a></li>
                    <li class="header-item"><a href="index.html"
                        class="header-link hstack gap-2 fs-7 fw-bold text-dark">Docs</a></li>
                  </ul>
                </div>
                <div>
                  <a class="text-dark" href="tel:+91 91645 31527">+91 91645 31527</a>
                  <a class="fs-8 text-dark fw-bold" href="mailto:hello@ashwanthrkumar.in">hello@ashwanthrkumar.in</a>
                </div>
              </div>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!--  Page Wrapper -->
  <div class="page-wrapper overflow-hidden">

    <!--  Banner Section (title + tags; background from imageUrl if present) -->
    <section id="banner"
      class="banner-section banner-inner-section position-relative overflow-hidden d-flex align-items-end"
      style="background-image: url(../assets/images/backgrounds/projects-detail-banner.jpg);">
      <div class="container">
        <div class="d-flex flex-column gap-4 pb-5 pb-xl-10 position-relative z-1">
          <div class="row align-items-center">
            <div class="col-xl-4">
              <div class="d-flex align-items-center gap-4" data-aos="fade-up" data-aos-delay="100"
                data-aos-duration="1000">
                <p class="mb-0 text-white fs-5 text-opacity-70">
                  A <span class="text-primary">showcase</span> of projects I’ve built.
                </p>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-end gap-3" data-aos="fade-up" data-aos-delay="200" data-aos-duration="1000">
            <h2 id="title" class="mb-0  text-white lh-1">Loading…</h2>
          </div>
          <div id="tags" class="d-flex flex-wrap gap-2" data-aos="fade-up" data-aos-delay="250"
            data-aos-duration="1000"></div>
        </div>
      </div>
    </section>

    <!--  Project Detail Section -->
    <section class="project-detail py-5 py-lg-11 py-xl-12">
      <div class="container">
        <div class="d-flex flex-column gap-5 gap-xl-11">

          <div class="d-flex flex-column gap-8">
            <a href="projects.html" class="btn py-2 ps-3 pe-5" data-aos="fade-up" data-aos-delay="100"
              data-aos-duration="1000">
              <span class="btn-text pe-1">Back</span>
              <iconify-icon icon="lucide:arrow-up-right"
                class="btn-icon bg-white text-dark round-36 rounded-circle hstack justify-content-center fs-5 shadow-sm"></iconify-icon>
            </a>
          </div>

          <!-- Description + main image (from imageUrl) -->
          <div class="row gap-4 gap-lg-0">
            <div class="col-lg-4">
              <h2 class="fs-13 mb-0" data-aos="fade-right" data-aos-delay="200" data-aos-duration="1000">Description
              </h2>
            </div>
            <div class="col-lg-8">
              <div data-aos="fade-up" data-aos-delay="200" data-aos-duration="1000">
                <p id="description" class="fs-5 mb-6">—</p>
              </div>
            </div>
          </div>

          <div class="row" id="imageRow">
            <div class="col-12 mb-7" data-aos="fade-up" data-aos-delay="100" data-aos-duration="1000">
              <img id="mainImage" src="" alt="Project image" class="w-100 object-fit-cover d-none">
            </div>
          </div>

        </div>
      </div>
    </section>

  </div>

  <!-- Footer (unchanged) -->
  <footer class="footer bg-dark py-5 py-lg-11 py-xl-12">
    <div class="container">
      <div class="row g-4">
        <!-- Pitch + quick actions -->
        <div class="col-xl-5 mb-8 mb-xl-0">
          <div class="d-flex flex-column gap-8 pe-xl-5">
            <h2 class="mb-0 text-white">Transforming ideas into reality.</h2>
            <div class="d-flex flex-column gap-2">
              <a href="mailto:hello@ashwanthrkumar.in" class="link-hover hstack gap-3 text-white fs-5">
                <iconify-icon icon="lucide:mail" class="fs-7 text-primary"></iconify-icon>
                hello@ashwanthrkumar.in
              </a>
              <a href="index.html#contact" class="link-hover hstack gap-3 text-white fs-5">
                <iconify-icon icon="lucide:calendar" class="fs-7 text-primary"></iconify-icon>
                Let’s talk — contact form
              </a>
            </div>
          </div>
        </div>

        <!-- Site nav -->
        <div class="col-md-4 col-xl-2 mb-8 mb-xl-0">
          <ul class="footer-menu list-unstyled mb-0 d-flex flex-column gap-2">
            <li><a class="link-hover fs-5 text-white" href="index.html">Home</a></li>
            <li><a class="link-hover fs-5 text-white" href="about.html">About</a></li>
            <li><a class="link-hover fs-5 text-white" href="vicr.html">Explore ViCr</a></li>
            <li><a class="link-hover fs-5 text-white" href="projects.html">Projects</a></li>
            <li><a class="link-hover fs-5 text-white" href="blog.html">Blog</a></li>
            <li><a class="link-hover fs-5 text-white" href="index.html#contact">Contact</a></li>
          </ul>
        </div>

        <!-- Policies -->


        <!-- Socials -->
        <div class="col-md-4 col-xl-3 mb-8 mb-xl-0">
          <ul class="footer-menu list-unstyled mb-3 d-flex gap-3 justify-content-xl-end">
            <li>
              <a class="link-hover fs-5 text-white d-inline-flex align-items-center gap-2"
                href="https://www.linkedin.com/in/ashwanthrkumar" target="_blank" rel="noopener">
                <iconify-icon icon="lucide:linkedin" class="fs-7 text-primary"></iconify-icon> LinkedIn
              </a>
            </li>
            <li>
              <a class="link-hover fs-5 text-white d-inline-flex align-items-center gap-2"
                href="https://github.com/ashwanthrkumar" target="_blank" rel="noopener">
                <iconify-icon icon="lucide:github" class="fs-7 text-primary"></iconify-icon> GitHub
              </a>
            </li>
            <li>
              <a class="link-hover fs-5 text-white d-inline-flex align-items-center gap-2"
                href="https://www.behance.net/" target="_blank" rel="noopener">
                <iconify-icon icon="lucide:palette" class="fs-7 text-primary"></iconify-icon> Behance
              </a>
            </li>
          </ul>
          <p class="mb-0 text-white text-opacity-70 text-xl-end">
            © <span id="year"></span> ViCR · Ashwanth R Kumar
          </p>
        </div>
      </div>
    </div>

    <!-- tiny bottom bar -->
    <div class="container mt-10">
      <div class="d-flex justify-content-between align-items-center">
        <a href="#top" class="link-hover text-white d-inline-flex align-items-center gap-2">
          <iconify-icon icon="lucide:arrow-up" class="fs-7 text-primary"></iconify-icon> Back to top
        </a>
        <!-- Optional attribution (remove if not needed)
      <p class="mb-0 text-white text-opacity-50">Theme base adapted from ThemeWagon</p>
      -->
      </div>
    </div>

    <script>
      // keep year current
      document.getElementById('year') && (document.getElementById('year').textContent = new Date().getFullYear());
    </script>
  </footer>

  <div class="get-template hstack gap-2">
    <button class="btn bg-primary p-2 round-52 rounded-circle hstack justify-content-center flex-shrink-0"
      id="scrollToTopBtn">
      <iconify-icon icon="lucide:arrow-up" class="fs-7 text-dark"></iconify-icon>
    </button>
  </div>

  <!-- libs -->
  <script src="../assets/libs/jquery/dist/jquery.min.js"></script>
  <script src="../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/libs/owl.carousel/dist/owl.carousel.min.js"></script>
  <script src="../assets/libs/aos-master/dist/aos.js"></script>
  <script src="../assets/js/custom.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.8/dist/iconify-icon.min.js"></script>

  <!-- Dynamic loader (matches backend: { title, description, imageUrl, tags }) -->
  <script>
    function getProjectId() {
      const id = new URLSearchParams(location.search).get('id');
      return id && id.trim() ? id.trim() : null;
    }

    function safeText(s) { return (typeof s === 'string' ? s : '').trim(); }

    function setBannerBackground(url) {
      if (!url) return;
      const banner = document.getElementById('banner');
      banner.style.backgroundImage = `url(${url})`;
    }

    async function loadProject() {
      const id = getProjectId();

      const titleEl = document.getElementById('title');
      const descEl = document.getElementById('description');
      const tagsEl = document.getElementById('tags');
      const imgEl = document.getElementById('mainImage');
      const imgRow = document.getElementById('imageRow');

      if (!id) {
        titleEl.textContent = "Project not found";
        descEl.textContent = "No project ID was provided.";
        imgRow.classList.add('d-none');
        return;
      }

      const url = `https://backend.ashwanthrkumar.in/api/projects/${encodeURIComponent(id)}`;

      try {
        const res = await fetch(url, { cache: 'no-store' });
        if (!res.ok) throw new Error(`HTTP ${res.status} ${res.statusText}`);

        const p = await res.json(); // expecting { title, description, imageUrl, tags }

        const title = safeText(p.title) || "Untitled Project";
        const description = safeText(p.description);
        const imageUrl = safeText(p.imageUrl);
        const tags = Array.isArray(p.tags) ? p.tags : [];

        titleEl.textContent = title;
        descEl.textContent = description || "—";

        // Tags
        tagsEl.innerHTML = tags.map(t => `<span class="badge text-dark border badge-tag bg-white">${String(t)}</span>`).join('');

        // Image (use as banner too)
        if (imageUrl) {
          imgEl.src = imageUrl;
          imgEl.alt = title || "Project image";
          imgEl.classList.remove('d-none');

          // Use the same image as banner background (nice visual continuity)
          setBannerBackground(imageUrl);
        } else {
          imgRow.classList.add('d-none');
        }

      } catch (err) {
        console.error(err);
        titleEl.textContent = "Error loading project";
        descEl.textContent = err.message || "Unknown error";
        imgRow.classList.add('d-none');
      }
    }

    document.addEventListener('DOMContentLoaded', loadProject);
  </script>
</body>

</html>